"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/widgets/chat",{

/***/ "./src/components/ChatBot.tsx":
/*!************************************!*\
  !*** ./src/components/ChatBot.tsx ***!
  \************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ \"./node_modules/axios/index.js\");\n/* harmony import */ var js_cookie__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-cookie */ \"./node_modules/js-cookie/dist/js.cookie.mjs\");\n/* harmony import */ var _heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @heroicons/react/24/outline */ \"./node_modules/@heroicons/react/24/outline/index.js\");\n/* harmony import */ var _heroicons_react_24_solid__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @heroicons/react/24/solid */ \"./node_modules/@heroicons/react/24/solid/index.js\");\n/* harmony import */ var _utility_constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/utility/constants */ \"./src/utility/constants.ts\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst getTime = (date)=>{\n    const d = new Date(date);\n    return (d.getHours() > 12 ? d.getHours() - 12 : d.getHours()) + \":\" + d.getMinutes() + \" \" + (d.getHours() >= 12 ? \"PM\" : \"AM\");\n};\nconst getDate = ()=>{\n    const d = new Date();\n    return d.toISOString();\n};\nconst hexToRGB = (hex, alpha)=>{\n    var r = parseInt(hex.slice(1, 3), 16), g = parseInt(hex.slice(3, 5), 16), b = parseInt(hex.slice(5, 7), 16);\n    if (alpha) {\n        return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n    } else {\n        return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n    }\n};\nconst Chatbot = (param)=>{\n    let { username , onClose , onLoad  } = param;\n    var _chatbotDetails_quickPrompt, _chatbotDetails_quickPrompt_quickPrompts;\n    _s();\n    const baseUrl = _utility_constants__WEBPACK_IMPORTED_MODULE_4__.environmentVariables.apiUrl;\n    // const apiKey = environmentVariables.openAPIKey;\n    // const organizationID = environmentVariables.openAIOrganizationID;\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [visitorId, setVisitorId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [conversationId, setConversationId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [currentBotMessage, setCurrentBotMessage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [chatbotDetails, setChatbotDetails] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const themeColor = (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.theme) ? chatbotDetails.theme : \"#05b6d3\";\n    const themeColorOpacity = (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.theme) ? hexToRGB(chatbotDetails.theme, 0.3) : hexToRGB(\"#05b6d3\", 0.3);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!username) return;\n        const fetchChatbotDetails = async ()=>{\n            try {\n                const response = await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].get(\"\".concat(baseUrl, \"/api/v1/prompt/\").concat(username));\n                const data = response.data;\n                setChatbotDetails({\n                    id: data.id,\n                    userId: data.userId,\n                    username: data.username,\n                    avatar: data.avatar,\n                    logo: data.logo,\n                    theme: data.theme,\n                    prompt: data.prompt,\n                    quickPrompt: data.quickPrompt,\n                    location: data.location,\n                    credits: data.credits\n                });\n            } catch (e) {\n                router.push(\"/404\");\n            }\n            setIsLoading(false);\n        };\n        fetchChatbotDetails();\n    }, [\n        username\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (chatbotDetails && isLoading === false) {\n            var _chatbotDetails_quickPrompt;\n            const initialMessage = chatbotDetails === null || chatbotDetails === void 0 ? void 0 : (_chatbotDetails_quickPrompt = chatbotDetails.quickPrompt) === null || _chatbotDetails_quickPrompt === void 0 ? void 0 : _chatbotDetails_quickPrompt.initialMessage;\n            if (messages.length === 0) {\n                const date = getDate();\n                const time = getTime(date);\n                if (initialMessage) {\n                    setMessages((prevMessages)=>{\n                        return [\n                            ...prevMessages,\n                            {\n                                sender: \"bot\",\n                                text: initialMessage,\n                                date,\n                                time\n                            }\n                        ];\n                    });\n                } else {\n                    setMessages((prevMessages)=>{\n                        return [\n                            ...prevMessages,\n                            {\n                                sender: \"bot\",\n                                text: \"Hello, How can I assist you today?\",\n                                date,\n                                time\n                            }\n                        ];\n                    });\n                }\n                let storedVisitorId = js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].get(\"visitorId\");\n                if (!storedVisitorId) {\n                    storedVisitorId = (0,uuid__WEBPACK_IMPORTED_MODULE_6__.v4)();\n                    js_cookie__WEBPACK_IMPORTED_MODULE_3__[\"default\"].set(\"visitorId\", storedVisitorId, {\n                        expires: 365\n                    });\n                }\n                setVisitorId(storedVisitorId);\n                onLoad ? onLoad({\n                    ...chatbotDetails,\n                    themeColor,\n                    themeColorOpacity\n                }) : null;\n            }\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [\n        chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.quickPrompt,\n        isLoading\n    ]);\n    const saveConversation = async (chatbotId, visitorId, conversation, conversationId, date, time)=>{\n        try {\n            const response = axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].post(\"\".concat(baseUrl, \"/api/v1/chatbot/conversation/save\"), {\n                chatbotId,\n                visitorId,\n                conversation,\n                conversationId,\n                date,\n                time\n            });\n            response.then((res)=>{\n                if (res.data.conversationId) {\n                    setConversationId(res.data.conversationId);\n                }\n            });\n        } catch (error) {\n            console.error(\"Error saving conversation:\", error);\n        }\n    };\n    const updateUserCredits = async (userId)=>{\n        if (userId) {\n            try {\n                await axios__WEBPACK_IMPORTED_MODULE_5__[\"default\"].put(\"\".concat(baseUrl, \"/api/v1/credits/deduct\"), {\n                    userId\n                });\n            } catch (error) {\n                console.log(error);\n                console.error(\"Error updating user credits:\", error);\n            }\n        }\n    };\n    const handleUserMessage = async (message)=>{\n        if (!chatbotDetails) {\n            return;\n        }\n        const date = getDate();\n        const time = getTime(date);\n        const newMessages = [\n            ...messages,\n            {\n                sender: \"user\",\n                text: message,\n                date,\n                time\n            }\n        ];\n        setMessages(newMessages);\n        setIsTyping(true);\n        updateUserCredits(chatbotDetails.userId);\n        try {\n            const response = await fetch(\"\".concat(baseUrl, \"/api/v1/chatbot/conversation/chat/\").concat(chatbotDetails.id), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify({\n                    question: message,\n                    history: messages,\n                    username: chatbotDetails\n                })\n            });\n            if (response.body) {\n                const reader = response.body.getReader();\n                const decoder = new TextDecoder(\"utf-8\");\n                let botMessage = \"\";\n                let botChunk = \"\";\n                while(true){\n                    const chunk = await reader.read();\n                    const { done , value  } = chunk;\n                    if (done) {\n                        // Only add the message to the conversation when the response is done\n                        const date = getDate();\n                        const time = getTime(date);\n                        setMessages((prevMessages)=>{\n                            const conversations = [\n                                ...prevMessages,\n                                {\n                                    sender: \"bot\",\n                                    text: botMessage,\n                                    date,\n                                    time\n                                }\n                            ];\n                            saveConversation(chatbotDetails.id, visitorId, conversations, conversationId, date, time);\n                            return conversations;\n                        });\n                        setCurrentBotMessage(\"\");\n                        setIsTyping(false);\n                        break;\n                    }\n                    botChunk += decoder.decode(value, {\n                        stream: true\n                    });\n                    const completeResponses = botChunk.split(\"\\n\");\n                    botChunk = completeResponses.pop() || \"\"; // Remove the last element as it may not be complete\n                    completeResponses.filter((line)=>line.startsWith(\"data: \")).map((line)=>line.replace(/^data: /, \"\").trim()).filter((line)=>line !== \"\" && line !== \"[DONE]\").forEach((parsedLine)=>{\n                        botMessage += parsedLine + \" \"; // Add space after each line\n                        setCurrentBotMessage(botMessage);\n                    });\n                }\n            }\n        } catch (error) {\n            console.error(\"Error:\", error);\n        }\n    };\n    const scrollToBottom = ()=>{\n        if (messagesEndRef.current) {\n            messagesEndRef.current.scrollIntoView({\n                behavior: \"smooth\"\n            });\n        }\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        scrollToBottom();\n    }, [\n        messages,\n        currentBotMessage\n    ]);\n    if (isLoading) return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: \"Loading...\"\n    }, void 0, false, {\n        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n        lineNumber: 314,\n        columnNumber: 25\n    }, undefined);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"my-0 flex h-full max-h-screen w-full max-w-2xl flex-col rounded-lg border-[1px] sm:mx-auto sm:my-10 sm:h-[93%] \",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex w-full items-center gap-[8px] rounded-t-lg border-b-[1px] px-[8px] py-[8px] lg:px-[16px] lg:py-[16px] text-xl\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.logo) || \"/images/user.jpg\",\n                        alt: \"Chatbot logo\",\n                        className: \"w-8 h-8 lg:w-10 lg:h-10 rounded-full object-cover\"\n                    }, void 0, false, {\n                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                        lineNumber: 319,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-sm font-semibold leading-4 text-md\",\n                                children: [\n                                    username,\n                                    \" \"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                lineNumber: 326,\n                                columnNumber: 11\n                            }, undefined),\n                            (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.location) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-[1px]\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__.MapPinIcon, {\n                                        className: \"w-4 h-4 text-zinc-500\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 329,\n                                        columnNumber: 15\n                                    }, undefined),\n                                    \" \",\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm status text-zinc-400\",\n                                        children: chatbotDetails.location\n                                    }, void 0, false, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 330,\n                                        columnNumber: 15\n                                    }, undefined)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                lineNumber: 328,\n                                columnNumber: 13\n                            }, undefined) : null\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                        lineNumber: 325,\n                        columnNumber: 9\n                    }, undefined),\n                    !!onClose ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: onClose,\n                        type: \"button\",\n                        className: \"ml-auto\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_24_outline__WEBPACK_IMPORTED_MODULE_7__.XMarkIcon, {\n                            className: \"h-7 w-7\",\n                            style: {\n                                color: themeColor\n                            }\n                        }, void 0, false, {\n                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                            lineNumber: 337,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                        lineNumber: 336,\n                        columnNumber: 11\n                    }, undefined) : null\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                lineNumber: 318,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"h-full flex-grow space-y-[12px] overflow-y-auto px-[8px] py-[16px] lg:px-[18px] lg:py-[24px] pb-[0px]\",\n                children: [\n                    messages.map((message, index)=>{\n                        /*#__PURE__*/ return (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: message.sender === \"bot\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-end\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                                src: (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.avatar) || \"/images/user.jpg\",\n                                                alt: \"Chatbot avatar\",\n                                                className: \"w-8 h-8 rounded-full object-cover\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                                lineNumber: 353,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"ml-[7px] max-w-[74%] rounded-[16px] rounded-bl-none border-[1px] bg-white p-[8px] lg:p-[12px]\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm font-light leading-5 text-black break-words\",\n                                                    dangerouslySetInnerHTML: {\n                                                        __html: message.text\n                                                    }\n                                                }, void 0, false, {\n                                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                                    lineNumber: 360,\n                                                    columnNumber: 21\n                                                }, undefined)\n                                            }, void 0, false, {\n                                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                                lineNumber: 359,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 352,\n                                        columnNumber: 17\n                                    }, undefined),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-end\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-8\"\n                                            }, void 0, false, {\n                                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                                lineNumber: 368,\n                                                columnNumber: 19\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"ml-[7px] mt-1 text-xs font-light text-zinc-400\",\n                                                children: message.time\n                                            }, void 0, false, {\n                                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                                lineNumber: 370,\n                                                columnNumber: 19\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 367,\n                                        columnNumber: 17\n                                    }, undefined)\n                                ]\n                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-end\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ml-auto w-fit max-w-[74%]\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"rounded-[16px] rounded-br-none border-[1px] p-[8px] lg:p-[12px]\",\n                                            style: {\n                                                backgroundColor: themeColorOpacity\n                                            },\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                className: \"text-sm font-light leading-5 text-black break-words\",\n                                                dangerouslySetInnerHTML: {\n                                                    __html: message.text\n                                                }\n                                            }, void 0, false, {\n                                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                                lineNumber: 382,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        }, void 0, false, {\n                                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                            lineNumber: 376,\n                                            columnNumber: 19\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-1 text-xs font-light text-right text-zinc-400\",\n                                            children: message.time\n                                        }, void 0, false, {\n                                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                            lineNumber: 388,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                    lineNumber: 375,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                lineNumber: 374,\n                                columnNumber: 15\n                            }, undefined)\n                        }, index, false, {\n                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                            lineNumber: 349,\n                            columnNumber: 11\n                        }, undefined);\n                    }),\n                    isTyping ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex items-end\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                    src: (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : chatbotDetails.logo) || \"/images/user.jpg\",\n                                    alt: \"Chatbot logo\",\n                                    className: \"w-8 h-8 rounded-full\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                    lineNumber: 398,\n                                    columnNumber: 15\n                                }, undefined),\n                                currentBotMessage ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ml-[7px] max-w-[74%] rounded-[16px] rounded-bl-none border-[1px] bg-white p-[12px]\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm font-light leading-5 text-black break-words\",\n                                        dangerouslySetInnerHTML: {\n                                            __html: currentBotMessage\n                                        }\n                                    }, void 0, false, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 406,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                    lineNumber: 405,\n                                    columnNumber: 17\n                                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"ml-[7px] max-w-[74%] rounded-[16px] rounded-bl-none border-[1px] bg-white px-[12px]\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm font-light leading-5 text-black break-words\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                            src: \"/dots-loading.gif\",\n                                            alt: \"Loading...\",\n                                            className: \"w-8 h-8\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                            lineNumber: 414,\n                                            columnNumber: 21\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 413,\n                                        columnNumber: 19\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                    lineNumber: 412,\n                                    columnNumber: 17\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                            lineNumber: 397,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false) : null,\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        ref: messagesEndRef\n                    }, void 0, false, {\n                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                        lineNumber: 422,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                lineNumber: 347,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"mt-[4px] p-[12px] pt-[0px]\",\n                children: [\n                    (chatbotDetails === null || chatbotDetails === void 0 ? void 0 : (_chatbotDetails_quickPrompt = chatbotDetails.quickPrompt) === null || _chatbotDetails_quickPrompt === void 0 ? void 0 : (_chatbotDetails_quickPrompt_quickPrompts = _chatbotDetails_quickPrompt.quickPrompts) === null || _chatbotDetails_quickPrompt_quickPrompts === void 0 ? void 0 : _chatbotDetails_quickPrompt_quickPrompts.length) ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-wrap items-start justify-end gap-1 mb-1\",\n                        children: chatbotDetails.quickPrompt.quickPrompts.map((value, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                className: \"m-0 rounded-md border-[1px] bg-white px-[8px] py-[1px] text-sm font-light hover:bg-zinc-100\",\n                                style: {\n                                    borderColor: themeColor,\n                                    color: themeColor\n                                },\n                                onClick: ()=>handleUserMessage(value),\n                                children: value\n                            }, \"prompt-message-\".concat(index), false, {\n                                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                lineNumber: 429,\n                                columnNumber: 15\n                            }, undefined))\n                    }, void 0, false, {\n                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                        lineNumber: 427,\n                        columnNumber: 11\n                    }, undefined) : null,\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center justify-between w-full\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                            onSubmit: (e)=>{\n                                if (!isTyping) {\n                                    e.preventDefault();\n                                    const messageInput = e.currentTarget.elements[0];\n                                    if (messageInput === null || messageInput === void 0 ? void 0 : messageInput.value) {\n                                        handleUserMessage(messageInput.value);\n                                        messageInput.value = \"\";\n                                    }\n                                }\n                            },\n                            className: \"relative flex w-full\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                    className: \"w-full flex-grow rounded-[16px] border-[1px] p-[10px] lg:p-[12px] pr-16 text-sm focus:border-zinc-300 focus:outline-none\",\n                                    type: \"text\",\n                                    multiple: true,\n                                    placeholder: \"Type message...\",\n                                    required: true,\n                                    autoFocus: true\n                                }, void 0, false, {\n                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                    lineNumber: 459,\n                                    columnNumber: 13\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"absolute transform -translate-y-1/2 right-2 lg:right-3 top-1/2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        className: \"ml-3 flex h-9 w-9 items-center justify-center rounded-full text-white hover:bg-zinc-100\",\n                                        style: {\n                                            backgroundColor: isTyping ? \"#bcbdbf\" : themeColor\n                                        },\n                                        disabled: isTyping,\n                                        type: \"submit\",\n                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_heroicons_react_24_solid__WEBPACK_IMPORTED_MODULE_8__.PaperAirplaneIcon, {\n                                            className: \"w-6 h-6 rounded-full\"\n                                        }, void 0, false, {\n                                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                            lineNumber: 477,\n                                            columnNumber: 17\n                                        }, undefined)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                        lineNumber: 469,\n                                        columnNumber: 15\n                                    }, undefined)\n                                }, void 0, false, {\n                                    fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                                    lineNumber: 468,\n                                    columnNumber: 13\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                            lineNumber: 445,\n                            columnNumber: 11\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                        lineNumber: 444,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n                lineNumber: 425,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/anugrahaacharya/Documents/ecobees/anand/knowMeee/landingpage/src/components/ChatBot.tsx\",\n        lineNumber: 317,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Chatbot, \"9ZnjFcAG5PfcQ3QbcMX14eMfGZ0=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = Chatbot;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Chatbot);\nvar _c;\n$RefreshReg$(_c, \"Chatbot\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvQ2hhdEJvdC50c3g/ZWRhNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7IFxuaW1wb3J0IENvb2tpZSBmcm9tICdqcy1jb29raWUnO1xuaW1wb3J0IHsgWE1hcmtJY29uLCBNYXBQaW5JY29uIH0gZnJvbSAnQGhlcm9pY29ucy9yZWFjdC8yNC9vdXRsaW5lJztcbmltcG9ydCB7IFBhcGVyQWlycGxhbmVJY29uIH0gZnJvbSAnQGhlcm9pY29ucy9yZWFjdC8yNC9zb2xpZCc7XG5pbXBvcnQgeyBlbnZpcm9ubWVudFZhcmlhYmxlcyB9IGZyb20gJ0AvdXRpbGl0eS9jb25zdGFudHMnO1xuXG5pbnRlcmZhY2UgTWVzc2FnZSB7XG4gIHNlbmRlcjogJ2JvdCcgfCAndXNlcic7XG4gIHRleHQ6IHN0cmluZztcbiAgZGF0ZTogc3RyaW5nO1xuICB0aW1lOiBzdHJpbmc7XG59XG5cbmludGVyZmFjZSBRdWlja1Byb21wdCB7XG4gIGluaXRpYWxNZXNzYWdlPzogJyc7XG4gIHF1aWNrUHJvbXB0cz86IHN0cmluZ1tdO1xufVxuXG5jb25zdCBnZXRUaW1lID0gKGRhdGU6IHN0cmluZykgPT4ge1xuICBjb25zdCBkID0gbmV3IERhdGUoZGF0ZSk7XG4gIHJldHVybiAoXG4gICAgKGQuZ2V0SG91cnMoKSA+IDEyID8gZC5nZXRIb3VycygpIC0gMTIgOiBkLmdldEhvdXJzKCkpICtcbiAgICAnOicgK1xuICAgIGQuZ2V0TWludXRlcygpICtcbiAgICAnICcgK1xuICAgIChkLmdldEhvdXJzKCkgPj0gMTIgPyAnUE0nIDogJ0FNJylcbiAgKTtcbn07XG5cbmNvbnN0IGdldERhdGUgPSAoKSA9PiB7XG4gIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xuICByZXR1cm4gZC50b0lTT1N0cmluZygpO1xufTtcblxuY29uc3QgaGV4VG9SR0IgPSAoaGV4OiBzdHJpbmcsIGFscGhhOiBudW1iZXIpID0+IHtcbiAgdmFyIHIgPSBwYXJzZUludChoZXguc2xpY2UoMSwgMyksIDE2KSxcbiAgICBnID0gcGFyc2VJbnQoaGV4LnNsaWNlKDMsIDUpLCAxNiksXG4gICAgYiA9IHBhcnNlSW50KGhleC5zbGljZSg1LCA3KSwgMTYpO1xuXG4gIGlmIChhbHBoYSkge1xuICAgIHJldHVybiAncmdiYSgnICsgciArICcsICcgKyBnICsgJywgJyArIGIgKyAnLCAnICsgYWxwaGEgKyAnKSc7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuICdyZ2IoJyArIHIgKyAnLCAnICsgZyArICcsICcgKyBiICsgJyknO1xuICB9XG59O1xuXG5pbnRlcmZhY2UgQ2hhdGJvdERldGFpbHMge1xuICBpZDogc3RyaW5nO1xuICB1c2VySWQ6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgbG9nbzogc3RyaW5nO1xuICBhdmF0YXI6IHN0cmluZztcbiAgcHJvbXB0OiBzdHJpbmc7XG4gIHRoZW1lOiBzdHJpbmc7XG4gIHF1aWNrUHJvbXB0OiBRdWlja1Byb21wdDtcbiAgbG9jYXRpb246IHN0cmluZztcbiAgY3JlZGl0czogbnVtYmVyO1xufVxuXG5jb25zdCBDaGF0Ym90ID0gKHtcbiAgdXNlcm5hbWUsXG4gIG9uQ2xvc2UsXG4gIG9uTG9hZCxcbn06IHtcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgb25DbG9zZT86ICgpID0+IHZvaWQ7XG4gIG9uTG9hZD86IChkYXRhOiBhbnkpID0+IHZvaWQ7XG59KSA9PiB7XG4gIGNvbnN0IGJhc2VVcmwgPSBlbnZpcm9ubWVudFZhcmlhYmxlcy5hcGlVcmw7XG4gIC8vIGNvbnN0IGFwaUtleSA9IGVudmlyb25tZW50VmFyaWFibGVzLm9wZW5BUElLZXk7XG4gIC8vIGNvbnN0IG9yZ2FuaXphdGlvbklEID0gZW52aXJvbm1lbnRWYXJpYWJsZXMub3BlbkFJT3JnYW5pemF0aW9uSUQ7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbCk7XG4gIGNvbnN0IFtpc1R5cGluZywgc2V0SXNUeXBpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbdmlzaXRvcklkLCBzZXRWaXNpdG9ySWRdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbY29udmVyc2F0aW9uSWQsIHNldENvbnZlcnNhdGlvbklkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtjdXJyZW50Qm90TWVzc2FnZSwgc2V0Q3VycmVudEJvdE1lc3NhZ2VdID0gdXNlU3RhdGUoJycpO1xuXG4gIGNvbnN0IFtjaGF0Ym90RGV0YWlscywgc2V0Q2hhdGJvdERldGFpbHNdID0gdXNlU3RhdGU8Q2hhdGJvdERldGFpbHMgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKTtcblxuICBjb25zdCB0aGVtZUNvbG9yID0gY2hhdGJvdERldGFpbHM/LnRoZW1lID8gY2hhdGJvdERldGFpbHMudGhlbWUgOiAnIzA1YjZkMyc7XG4gIGNvbnN0IHRoZW1lQ29sb3JPcGFjaXR5ID0gY2hhdGJvdERldGFpbHM/LnRoZW1lXG4gICAgPyBoZXhUb1JHQihjaGF0Ym90RGV0YWlscy50aGVtZSwgMC4zKVxuICAgIDogaGV4VG9SR0IoJyMwNWI2ZDMnLCAwLjMpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCF1c2VybmFtZSkgcmV0dXJuO1xuICAgIGNvbnN0IGZldGNoQ2hhdGJvdERldGFpbHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldChgJHtiYXNlVXJsfS9hcGkvdjEvcHJvbXB0LyR7dXNlcm5hbWV9YCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBzZXRDaGF0Ym90RGV0YWlscyh7XG4gICAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgICAgdXNlcklkOiBkYXRhLnVzZXJJZCxcbiAgICAgICAgICB1c2VybmFtZTogZGF0YS51c2VybmFtZSxcbiAgICAgICAgICBhdmF0YXI6IGRhdGEuYXZhdGFyLFxuICAgICAgICAgIGxvZ286IGRhdGEubG9nbyxcbiAgICAgICAgICB0aGVtZTogZGF0YS50aGVtZSxcbiAgICAgICAgICBwcm9tcHQ6IGRhdGEucHJvbXB0LFxuICAgICAgICAgIHF1aWNrUHJvbXB0OiBkYXRhLnF1aWNrUHJvbXB0LFxuICAgICAgICAgIGxvY2F0aW9uOiBkYXRhLmxvY2F0aW9uLFxuICAgICAgICAgIGNyZWRpdHM6IGRhdGEuY3JlZGl0cyxcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcm91dGVyLnB1c2goJy80MDQnKVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH07XG5cbiAgICBmZXRjaENoYXRib3REZXRhaWxzKCk7XG4gIH0sIFt1c2VybmFtZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNoYXRib3REZXRhaWxzICYmIGlzTG9hZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgIGNvbnN0IGluaXRpYWxNZXNzYWdlID0gY2hhdGJvdERldGFpbHM/LnF1aWNrUHJvbXB0Py5pbml0aWFsTWVzc2FnZTtcblxuICAgICAgaWYgKG1lc3NhZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZSgpO1xuICAgICAgICBjb25zdCB0aW1lID0gZ2V0VGltZShkYXRlKTtcblxuICAgICAgICBpZiAoaW5pdGlhbE1lc3NhZ2UpIHtcbiAgICAgICAgICBzZXRNZXNzYWdlcygocHJldk1lc3NhZ2VzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAuLi5wcmV2TWVzc2FnZXMsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZW5kZXI6ICdib3QnLFxuICAgICAgICAgICAgICAgIHRleHQ6IGluaXRpYWxNZXNzYWdlLFxuICAgICAgICAgICAgICAgIGRhdGUsXG4gICAgICAgICAgICAgICAgdGltZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXZNZXNzYWdlcykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgLi4ucHJldk1lc3NhZ2VzLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VuZGVyOiAnYm90JyxcbiAgICAgICAgICAgICAgICB0ZXh0OiAnSGVsbG8sIEhvdyBjYW4gSSBhc3Npc3QgeW91IHRvZGF5PycsXG4gICAgICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgICAgICB0aW1lLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzdG9yZWRWaXNpdG9ySWQgPSBDb29raWUuZ2V0KCd2aXNpdG9ySWQnKTtcblxuICAgICAgICBpZiAoIXN0b3JlZFZpc2l0b3JJZCkge1xuICAgICAgICAgIHN0b3JlZFZpc2l0b3JJZCA9IHV1aWR2NCgpO1xuICAgICAgICAgIENvb2tpZS5zZXQoJ3Zpc2l0b3JJZCcsIHN0b3JlZFZpc2l0b3JJZCwgeyBleHBpcmVzOiAzNjUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRWaXNpdG9ySWQoc3RvcmVkVmlzaXRvcklkKTtcbiAgICAgICAgXG4gICAgICAgIG9uTG9hZFxuICAgICAgICAgID8gb25Mb2FkKHtcbiAgICAgICAgICAgICAgLi4uY2hhdGJvdERldGFpbHMsXG4gICAgICAgICAgICAgIHRoZW1lQ29sb3IsXG4gICAgICAgICAgICAgIHRoZW1lQ29sb3JPcGFjaXR5LFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICA6IG51bGw7XG4gICAgICB9XG4gICAgfVxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gIH0sIFtjaGF0Ym90RGV0YWlscz8ucXVpY2tQcm9tcHQsIGlzTG9hZGluZ10pO1xuXG4gIGNvbnN0IHNhdmVDb252ZXJzYXRpb24gPSBhc3luYyAoXG4gICAgY2hhdGJvdElkOiBzdHJpbmcsXG4gICAgdmlzaXRvcklkOiBzdHJpbmcsXG4gICAgY29udmVyc2F0aW9uOiBvYmplY3RbXSxcbiAgICBjb252ZXJzYXRpb25JZDogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCxcbiAgICBkYXRlOiBzdHJpbmcsXG4gICAgdGltZTogc3RyaW5nXG4gICkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF4aW9zLnBvc3QoYCR7YmFzZVVybH0vYXBpL3YxL2NoYXRib3QvY29udmVyc2F0aW9uL3NhdmVgLCB7XG4gICAgICAgIGNoYXRib3RJZCxcbiAgICAgICAgdmlzaXRvcklkLFxuICAgICAgICBjb252ZXJzYXRpb24sXG4gICAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgICBkYXRlLFxuICAgICAgICB0aW1lLFxuICAgICAgfSk7XG5cbiAgICAgIHJlc3BvbnNlLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICBpZiAocmVzLmRhdGEuY29udmVyc2F0aW9uSWQpIHtcbiAgICAgICAgICBzZXRDb252ZXJzYXRpb25JZChyZXMuZGF0YS5jb252ZXJzYXRpb25JZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgY29udmVyc2F0aW9uOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdXBkYXRlVXNlckNyZWRpdHMgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBheGlvcy5wdXQoYCR7YmFzZVVybH0vYXBpL3YxL2NyZWRpdHMvZGVkdWN0YCwgeyB1c2VySWQgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwZGF0aW5nIHVzZXIgY3JlZGl0czonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVVzZXJNZXNzYWdlID0gYXN5bmMgKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIGlmICghY2hhdGJvdERldGFpbHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBkYXRlID0gZ2V0RGF0ZSgpO1xuICAgIGNvbnN0IHRpbWUgPSBnZXRUaW1lKGRhdGUpO1xuXG4gICAgY29uc3QgbmV3TWVzc2FnZXMgPSBbLi4ubWVzc2FnZXMsIHsgc2VuZGVyOiAndXNlcicsIHRleHQ6IG1lc3NhZ2UsIGRhdGUsIHRpbWUgfV0gYXMgTWVzc2FnZVtdO1xuXG4gICAgc2V0TWVzc2FnZXMobmV3TWVzc2FnZXMpO1xuICAgIHNldElzVHlwaW5nKHRydWUpO1xuXG4gICAgdXBkYXRlVXNlckNyZWRpdHMoY2hhdGJvdERldGFpbHMudXNlcklkKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuICAgICAgICBgJHtiYXNlVXJsfS9hcGkvdjEvY2hhdGJvdC9jb252ZXJzYXRpb24vY2hhdC8ke2NoYXRib3REZXRhaWxzLmlkfWAsXG4gICAgICAgIHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgcXVlc3Rpb246IG1lc3NhZ2UsXG4gICAgICAgICAgICBoaXN0b3J5OiBtZXNzYWdlcyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiBjaGF0Ym90RGV0YWlscyxcbiAgICAgICAgICB9KSxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgaWYgKHJlc3BvbnNlLmJvZHkpIHtcbiAgICAgICAgY29uc3QgcmVhZGVyID0gcmVzcG9uc2UuYm9keS5nZXRSZWFkZXIoKTtcbiAgICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigndXRmLTgnKTtcblxuICAgICAgICBsZXQgYm90TWVzc2FnZSA9ICcnO1xuICAgICAgICBsZXQgYm90Q2h1bmsgPSAnJztcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIGNvbnN0IGNodW5rID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBjaHVuaztcblxuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGFkZCB0aGUgbWVzc2FnZSB0byB0aGUgY29udmVyc2F0aW9uIHdoZW4gdGhlIHJlc3BvbnNlIGlzIGRvbmVcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBnZXREYXRlKCk7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gZ2V0VGltZShkYXRlKTtcblxuICAgICAgICAgICAgc2V0TWVzc2FnZXMoKHByZXZNZXNzYWdlcykgPT4ge1xuICAgICAgICAgICAgICBjb25zdCBjb252ZXJzYXRpb25zID0gW1xuICAgICAgICAgICAgICAgIC4uLnByZXZNZXNzYWdlcyxcbiAgICAgICAgICAgICAgICB7IHNlbmRlcjogJ2JvdCcsIHRleHQ6IGJvdE1lc3NhZ2UsIGRhdGUsIHRpbWUgfSxcbiAgICAgICAgICAgICAgXSBhcyBNZXNzYWdlW107XG5cbiAgICAgICAgICAgICAgc2F2ZUNvbnZlcnNhdGlvbihcbiAgICAgICAgICAgICAgICBjaGF0Ym90RGV0YWlscy5pZCxcbiAgICAgICAgICAgICAgICB2aXNpdG9ySWQsXG4gICAgICAgICAgICAgICAgY29udmVyc2F0aW9ucyxcbiAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZCBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgZGF0ZSxcbiAgICAgICAgICAgICAgICB0aW1lXG4gICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbnM7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc2V0Q3VycmVudEJvdE1lc3NhZ2UoJycpO1xuICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBib3RDaHVuayArPSBkZWNvZGVyLmRlY29kZSh2YWx1ZSwgeyBzdHJlYW06IHRydWUgfSk7XG4gICAgICAgICAgY29uc3QgY29tcGxldGVSZXNwb25zZXMgPSBib3RDaHVuay5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICBib3RDaHVuayA9IGNvbXBsZXRlUmVzcG9uc2VzLnBvcCgpIHx8ICcnOyAvLyBSZW1vdmUgdGhlIGxhc3QgZWxlbWVudCBhcyBpdCBtYXkgbm90IGJlIGNvbXBsZXRlXG5cbiAgICAgICAgICBjb21wbGV0ZVJlc3BvbnNlc1xuICAgICAgICAgICAgLmZpbHRlcigobGluZSkgPT4gbGluZS5zdGFydHNXaXRoKCdkYXRhOiAnKSlcbiAgICAgICAgICAgIC5tYXAoKGxpbmUpID0+IGxpbmUucmVwbGFjZSgvXmRhdGE6IC8sICcnKS50cmltKCkpXG4gICAgICAgICAgICAuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSAnJyAmJiBsaW5lICE9PSAnW0RPTkVdJylcbiAgICAgICAgICAgIC5mb3JFYWNoKChwYXJzZWRMaW5lKSA9PiB7XG4gICAgICAgICAgICAgIGJvdE1lc3NhZ2UgKz0gcGFyc2VkTGluZSArICcgJzsgLy8gQWRkIHNwYWNlIGFmdGVyIGVhY2ggbGluZVxuICAgICAgICAgICAgICBzZXRDdXJyZW50Qm90TWVzc2FnZShib3RNZXNzYWdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgaWYgKG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQpIHtcbiAgICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfVxuICB9O1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKTtcbiAgfSwgW21lc3NhZ2VzLCBjdXJyZW50Qm90TWVzc2FnZV0pO1xuXG4gIGlmIChpc0xvYWRpbmcpIHJldHVybiA8ZGl2PkxvYWRpbmcuLi48L2Rpdj47XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm15LTAgZmxleCBoLWZ1bGwgbWF4LWgtc2NyZWVuIHctZnVsbCBtYXgtdy0yeGwgZmxleC1jb2wgcm91bmRlZC1sZyBib3JkZXItWzFweF0gc206bXgtYXV0byBzbTpteS0xMCBzbTpoLVs5MyVdIFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHctZnVsbCBpdGVtcy1jZW50ZXIgZ2FwLVs4cHhdIHJvdW5kZWQtdC1sZyBib3JkZXItYi1bMXB4XSBweC1bOHB4XSBweS1bOHB4XSBsZzpweC1bMTZweF0gbGc6cHktWzE2cHhdIHRleHQteGxcIj5cbiAgICAgICAgPGltZ1xuICAgICAgICAgIHNyYz17Y2hhdGJvdERldGFpbHM/LmxvZ28gfHwgJy9pbWFnZXMvdXNlci5qcGcnfVxuICAgICAgICAgIGFsdD1cIkNoYXRib3QgbG9nb1wiXG4gICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCBsZzp3LTEwIGxnOmgtMTAgcm91bmRlZC1mdWxsIG9iamVjdC1jb3ZlclwiXG4gICAgICAgIC8+XG5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LXNlbWlib2xkIGxlYWRpbmctNCB0ZXh0LW1kXCI+e3VzZXJuYW1lfSA8L2gxPlxuICAgICAgICAgIHtjaGF0Ym90RGV0YWlscz8ubG9jYXRpb24gPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC1bMXB4XVwiPlxuICAgICAgICAgICAgICA8TWFwUGluSWNvbiBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtemluYy01MDBcIiAvPnsnICd9XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gc3RhdHVzIHRleHQtemluYy00MDBcIj57Y2hhdGJvdERldGFpbHMubG9jYXRpb259PC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IG51bGx9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHshIW9uQ2xvc2UgPyAoXG4gICAgICAgICAgPGJ1dHRvbiBvbkNsaWNrPXtvbkNsb3NlfSB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwibWwtYXV0b1wiPlxuICAgICAgICAgICAgPFhNYXJrSWNvblxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTcgdy03XCJcbiAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhlbWVDb2xvcixcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICkgOiBudWxsfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaC1mdWxsIGZsZXgtZ3JvdyBzcGFjZS15LVsxMnB4XSBvdmVyZmxvdy15LWF1dG8gcHgtWzhweF0gcHktWzE2cHhdIGxnOnB4LVsxOHB4XSBsZzpweS1bMjRweF0gcGItWzBweF1cIj5cbiAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSwgaW5kZXgpID0+IChcbiAgICAgICAgICA8ZGl2IGtleT17aW5kZXh9PlxuICAgICAgICAgICAge21lc3NhZ2Uuc2VuZGVyID09PSAnYm90JyA/IChcbiAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgICAgICA8aW1nXG4gICAgICAgICAgICAgICAgICAgIHNyYz17Y2hhdGJvdERldGFpbHM/LmF2YXRhciB8fCAnL2ltYWdlcy91c2VyLmpwZyd9XG4gICAgICAgICAgICAgICAgICAgIGFsdD1cIkNoYXRib3QgYXZhdGFyXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy04IGgtOCByb3VuZGVkLWZ1bGwgb2JqZWN0LWNvdmVyXCJcbiAgICAgICAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtWzdweF0gbWF4LXctWzc0JV0gcm91bmRlZC1bMTZweF0gcm91bmRlZC1ibC1ub25lIGJvcmRlci1bMXB4XSBiZy13aGl0ZSBwLVs4cHhdIGxnOnAtWzEycHhdXCI+XG4gICAgICAgICAgICAgICAgICAgIDxwXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LWxpZ2h0IGxlYWRpbmctNSB0ZXh0LWJsYWNrIGJyZWFrLXdvcmRzXCJcbiAgICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IG1lc3NhZ2UudGV4dCB9fVxuICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctOFwiIC8+XG5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm1sLVs3cHhdIG10LTEgdGV4dC14cyBmb250LWxpZ2h0IHRleHQtemluYy00MDBcIj57bWVzc2FnZS50aW1lfTwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC1hdXRvIHctZml0IG1heC13LVs3NCVdXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJvdW5kZWQtWzE2cHhdIHJvdW5kZWQtYnItbm9uZSBib3JkZXItWzFweF0gcC1bOHB4XSBsZzpwLVsxMnB4XVwiXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0aGVtZUNvbG9yT3BhY2l0eSxcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPHBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbGlnaHQgbGVhZGluZy01IHRleHQtYmxhY2sgYnJlYWstd29yZHNcIlxuICAgICAgICAgICAgICAgICAgICAgIGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogbWVzc2FnZS50ZXh0IH19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXhzIGZvbnQtbGlnaHQgdGV4dC1yaWdodCB0ZXh0LXppbmMtNDAwXCI+e21lc3NhZ2UudGltZX08L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSl9XG5cbiAgICAgICAge2lzVHlwaW5nID8gKFxuICAgICAgICAgIDw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtZW5kXCI+XG4gICAgICAgICAgICAgIDxpbWdcbiAgICAgICAgICAgICAgICBzcmM9e2NoYXRib3REZXRhaWxzPy5sb2dvIHx8ICcvaW1hZ2VzL3VzZXIuanBnJ31cbiAgICAgICAgICAgICAgICBhbHQ9XCJDaGF0Ym90IGxvZ29cIlxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctOCBoLTggcm91bmRlZC1mdWxsXCJcbiAgICAgICAgICAgICAgLz5cblxuICAgICAgICAgICAgICB7Y3VycmVudEJvdE1lc3NhZ2UgPyAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtbC1bN3B4XSBtYXgtdy1bNzQlXSByb3VuZGVkLVsxNnB4XSByb3VuZGVkLWJsLW5vbmUgYm9yZGVyLVsxcHhdIGJnLXdoaXRlIHAtWzEycHhdXCI+XG4gICAgICAgICAgICAgICAgICA8cFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbGlnaHQgbGVhZGluZy01IHRleHQtYmxhY2sgYnJlYWstd29yZHNcIlxuICAgICAgICAgICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IGN1cnJlbnRCb3RNZXNzYWdlIH19XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWwtWzdweF0gbWF4LXctWzc0JV0gcm91bmRlZC1bMTZweF0gcm91bmRlZC1ibC1ub25lIGJvcmRlci1bMXB4XSBiZy13aGl0ZSBweC1bMTJweF1cIj5cbiAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1saWdodCBsZWFkaW5nLTUgdGV4dC1ibGFjayBicmVhay13b3Jkc1wiPlxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz17Jy9kb3RzLWxvYWRpbmcuZ2lmJ30gYWx0PVwiTG9hZGluZy4uLlwiIGNsYXNzTmFtZT1cInctOCBoLThcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC8+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LVs0cHhdIHAtWzEycHhdIHB0LVswcHhdXCI+XG4gICAgICAgIHtjaGF0Ym90RGV0YWlscz8ucXVpY2tQcm9tcHQ/LnF1aWNrUHJvbXB0cz8ubGVuZ3RoID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgaXRlbXMtc3RhcnQganVzdGlmeS1lbmQgZ2FwLTEgbWItMVwiPlxuICAgICAgICAgICAge2NoYXRib3REZXRhaWxzLnF1aWNrUHJvbXB0LnF1aWNrUHJvbXB0cy5tYXAoKHZhbHVlLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAga2V5PXtgcHJvbXB0LW1lc3NhZ2UtJHtpbmRleH1gfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm0tMCByb3VuZGVkLW1kIGJvcmRlci1bMXB4XSBiZy13aGl0ZSBweC1bOHB4XSBweS1bMXB4XSB0ZXh0LXNtIGZvbnQtbGlnaHQgaG92ZXI6YmctemluYy0xMDBcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogdGhlbWVDb2xvcixcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiB0aGVtZUNvbG9yLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlVXNlck1lc3NhZ2UodmFsdWUpfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3ZhbHVlfVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICkpfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApIDogbnVsbH1cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiB3LWZ1bGxcIj5cbiAgICAgICAgICA8Zm9ybVxuICAgICAgICAgICAgb25TdWJtaXQ9eyhlOiBSZWFjdC5Gb3JtRXZlbnQ8SFRNTEZvcm1FbGVtZW50PikgPT4ge1xuICAgICAgICAgICAgICBpZiAoIWlzVHlwaW5nKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJbnB1dCA9IGUuY3VycmVudFRhcmdldC5lbGVtZW50c1swXSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2VJbnB1dD8udmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGhhbmRsZVVzZXJNZXNzYWdlKG1lc3NhZ2VJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBtZXNzYWdlSW5wdXQudmFsdWUgPSAnJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH19XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IHctZnVsbFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4LWdyb3cgcm91bmRlZC1bMTZweF0gYm9yZGVyLVsxcHhdIHAtWzEwcHhdIGxnOnAtWzEycHhdIHByLTE2IHRleHQtc20gZm9jdXM6Ym9yZGVyLXppbmMtMzAwIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgbXVsdGlwbGVcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIG1lc3NhZ2UuLi5cIlxuICAgICAgICAgICAgICByZXF1aXJlZFxuICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgIC8+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgcmlnaHQtMiBsZzpyaWdodC0zIHRvcC0xLzJcIj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YG1sLTMgZmxleCBoLTkgdy05IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgdGV4dC13aGl0ZSBob3ZlcjpiZy16aW5jLTEwMGB9XG4gICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogaXNUeXBpbmcgPyAnI2JjYmRiZicgOiB0aGVtZUNvbG9yLFxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzVHlwaW5nfVxuICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPFBhcGVyQWlycGxhbmVJY29uIGNsYXNzTmFtZT1cInctNiBoLTYgcm91bmRlZC1mdWxsXCIgLz5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBDaGF0Ym90O1xuIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlUm91dGVyIiwidjQiLCJ1dWlkdjQiLCJheGlvcyIsIkNvb2tpZSIsIlhNYXJrSWNvbiIsIk1hcFBpbkljb24iLCJQYXBlckFpcnBsYW5lSWNvbiIsImVudmlyb25tZW50VmFyaWFibGVzIiwiZ2V0VGltZSIsImRhdGUiLCJkIiwiRGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldERhdGUiLCJ0b0lTT1N0cmluZyIsImhleFRvUkdCIiwiaGV4IiwiYWxwaGEiLCJyIiwicGFyc2VJbnQiLCJzbGljZSIsImciLCJiIiwiQ2hhdGJvdCIsInVzZXJuYW1lIiwib25DbG9zZSIsIm9uTG9hZCIsImNoYXRib3REZXRhaWxzIiwiYmFzZVVybCIsImFwaVVybCIsInJvdXRlciIsIm1lc3NhZ2VzRW5kUmVmIiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsInZpc2l0b3JJZCIsInNldFZpc2l0b3JJZCIsImNvbnZlcnNhdGlvbklkIiwic2V0Q29udmVyc2F0aW9uSWQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJjdXJyZW50Qm90TWVzc2FnZSIsInNldEN1cnJlbnRCb3RNZXNzYWdlIiwic2V0Q2hhdGJvdERldGFpbHMiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwidGhlbWVDb2xvciIsInRoZW1lIiwidGhlbWVDb2xvck9wYWNpdHkiLCJmZXRjaENoYXRib3REZXRhaWxzIiwicmVzcG9uc2UiLCJnZXQiLCJkYXRhIiwiaWQiLCJ1c2VySWQiLCJhdmF0YXIiLCJsb2dvIiwicHJvbXB0IiwicXVpY2tQcm9tcHQiLCJsb2NhdGlvbiIsImNyZWRpdHMiLCJwdXNoIiwiaW5pdGlhbE1lc3NhZ2UiLCJsZW5ndGgiLCJ0aW1lIiwicHJldk1lc3NhZ2VzIiwic2VuZGVyIiwidGV4dCIsInN0b3JlZFZpc2l0b3JJZCIsInNldCIsImV4cGlyZXMiLCJzYXZlQ29udmVyc2F0aW9uIiwiY2hhdGJvdElkIiwiY29udmVyc2F0aW9uIiwicG9zdCIsInRoZW4iLCJyZXMiLCJlcnJvciIsImNvbnNvbGUiLCJ1cGRhdGVVc2VyQ3JlZGl0cyIsInB1dCIsImxvZyIsImhhbmRsZVVzZXJNZXNzYWdlIiwibWVzc2FnZSIsIm5ld01lc3NhZ2VzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJxdWVzdGlvbiIsImhpc3RvcnkiLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJkZWNvZGVyIiwiVGV4dERlY29kZXIiLCJib3RNZXNzYWdlIiwiYm90Q2h1bmsiLCJjaHVuayIsInJlYWQiLCJkb25lIiwidmFsdWUiLCJjb252ZXJzYXRpb25zIiwiZGVjb2RlIiwic3RyZWFtIiwiY29tcGxldGVSZXNwb25zZXMiLCJzcGxpdCIsInBvcCIsImZpbHRlciIsImxpbmUiLCJzdGFydHNXaXRoIiwibWFwIiwicmVwbGFjZSIsInRyaW0iLCJmb3JFYWNoIiwicGFyc2VkTGluZSIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJkaXYiLCJjbGFzc05hbWUiLCJpbWciLCJzcmMiLCJhbHQiLCJoMSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwidHlwZSIsInN0eWxlIiwiY29sb3IiLCJpbmRleCIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiYmFja2dyb3VuZENvbG9yIiwicmVmIiwicXVpY2tQcm9tcHRzIiwiYm9yZGVyQ29sb3IiLCJmb3JtIiwib25TdWJtaXQiLCJlIiwicHJldmVudERlZmF1bHQiLCJtZXNzYWdlSW5wdXQiLCJjdXJyZW50VGFyZ2V0IiwiZWxlbWVudHMiLCJpbnB1dCIsIm11bHRpcGxlIiwicGxhY2Vob2xkZXIiLCJyZXF1aXJlZCIsImF1dG9Gb2N1cyIsImRpc2FibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/ChatBot.tsx\n"));

/***/ })

});